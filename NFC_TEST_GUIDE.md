# NFC测试指南

## 🧪 NFC测试工具使用指南

我已经为您创建了一个专门的NFC测试工具，现在您可以进行完整的NFC写入和读取测试。

### 📱 如何访问测试工具

1. **启动应用**：确保应用正在运行
2. **进入NFC管理**：
   - 如果是管理员：点击主屏幕的"NFC管理"
   - 如果是教师：点击主屏幕的"NFC管理"
3. **打开测试工具**：在NFC读写管理页面的右上角，点击🐛图标（测试工具按钮）

### 🔧 测试工具功能

#### 1. NFC状态检查
- 自动检查设备NFC功能是否可用
- 显示NFC状态信息
- 可以手动重新检查状态

#### 2. 写入测试
- **简单文本写入**：测试基本的文本写入功能
- **学生数据写入**：测试加密的学生数据写入

#### 3. 读取测试
- 读取NFC卡片中的数据
- 显示最后读取的数据内容

### 📋 测试步骤

#### 步骤1：检查NFC状态
1. 打开测试工具
2. 查看"NFC状态"卡片
3. 确保显示"NFC可用"
4. 如果显示"NFC不可用"，请检查设备设置

#### 步骤2：测试写入功能
1. 点击"测试写入简单文本"按钮
2. 将NFC卡片靠近设备背面
3. 保持卡片稳定贴近设备
4. 等待写入完成提示
5. 观察测试状态变化

#### 步骤3：测试读取功能
1. 点击"测试读取NFC数据"按钮
2. 将刚才写入的NFC卡片靠近设备
3. 保持卡片稳定贴近设备
4. 等待读取完成
5. 查看读取到的数据

#### 步骤4：测试学生数据写入
1. 点击"测试写入学生数据"按钮
2. 将新的NFC卡片靠近设备
3. 等待写入完成
4. 测试读取功能验证数据

### 🎯 预期结果

#### ✅ 成功情况
- NFC状态显示"可用"
- 写入测试显示"✅ 写入成功！"
- 读取测试显示"✅ 读取成功！"并显示数据
- 学生数据写入成功

#### ❌ 失败情况
- NFC状态显示"不可用" - 检查设备NFC设置
- 写入失败 - 检查卡片是否支持写入
- 读取失败 - 检查卡片是否正确写入

### 🔍 故障排除

#### 问题1：NFC不可用
**解决方案**：
1. 检查设备设置 → 连接 → NFC
2. 确保NFC功能已开启
3. 重启设备后重试

#### 问题2：写入失败
**可能原因**：
1. NFC卡片不支持写入
2. 卡片已锁定
3. 卡片容量不足
4. 数据格式错误

**解决方案**：
1. 使用可写入的NFC卡片
2. 检查卡片是否已锁定
3. 使用容量更大的卡片
4. 查看错误日志获取详细信息

#### 问题3：读取失败
**可能原因**：
1. 卡片没有数据
2. 卡片损坏
3. 读取距离过远

**解决方案**：
1. 确保卡片已写入数据
2. 更换卡片测试
3. 将卡片更贴近设备

### 📊 测试数据说明

#### 简单文本测试
- **原始数据**：`Hello NFC Test`
- **UTF-8字节**：`[72, 101, 108, 108, 111, 32, 78, 70, 67, 32, 84, 101, 115, 116]`
- **十六进制**：`48656c6c6f204e46432054657374`

#### 学生数据测试
- **学生ID**：`STU001`
- **盐值**：`12345678`
- **加密数据**：`encrypted_student_data_here`
- **最终数据**：`encrypted_student_data_here:12345678`

### 🚀 高级测试

如果您想进行更深入的测试，可以：

1. **测试不同的数据长度**
2. **测试特殊字符**
3. **测试中文数据**
4. **测试大量数据**

### 📝 测试记录

建议您记录以下信息：
- 测试时间
- 使用的NFC卡片类型
- 测试结果
- 遇到的错误
- 解决方案

### 🆘 获取帮助

如果测试过程中遇到问题：
1. 查看控制台日志获取详细错误信息
2. 检查NFC卡片是否正常工作
3. 尝试不同的NFC卡片
4. 重启应用后重试

现在您可以开始测试NFC功能了！记住要保持NFC卡片稳定贴近设备，直到操作完成。

