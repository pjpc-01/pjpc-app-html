# 手机NFC签到使用指南

## 📱 概述
手机NFC签到功能允许您使用手机内置的NFC功能进行学生签到，无需额外的硬件设备。

## 🔗 访问地址

### 本地访问
- **HTTPS地址**: https://localhost:3000/mobile-nfc
- **HTTP地址**: http://localhost:3000/mobile-nfc

### 网络访问（手机访问）
- **HTTPS地址**: https://192.168.0.72:3000/mobile-nfc
- **HTTP地址**: http://192.168.0.72:3000/mobile-nfc

## 📋 系统要求

### 设备要求
- ✅ **Android设备**: Android 8.0+ 且支持NFC
- ✅ **iOS设备**: iOS 13+ 且支持NFC
- ❌ **桌面设备**: 不支持（请在手机上访问）

### 浏览器要求
- ✅ **Chrome**: 89+ 版本
- ✅ **Edge**: 89+ 版本
- ⚠️ **Firefox**: 79+ 版本（部分支持）
- ❌ **Safari**: 暂不支持Web NFC API

### 网络要求
- ✅ **HTTPS连接**: 必需（已自动配置）
- ❌ **HTTP连接**: 不支持NFC功能

## 🚀 使用步骤

### 1. 访问页面
在手机浏览器中访问：
```
https://192.168.0.72:3000/mobile-nfc
```

### 2. 检查设备状态
页面会自动检测：
- 设备类型（移动设备/桌面设备）
- 浏览器兼容性
- NFC支持状态
- HTTPS连接状态

### 3. 开始NFC签到
1. 点击"开始NFC签到"按钮
2. 浏览器会请求NFC权限（点击"允许"）
3. 将NFC卡片靠近手机背面
4. 等待读取成功提示

### 4. 完成签到
- 成功读取后会显示卡片ID
- 签到记录会自动保存到数据库

## ⚠️ 重要提示

### 浏览器安全警告
由于使用自签名证书，浏览器会显示安全警告：
1. 点击"高级"
2. 点击"继续前往 192.168.0.72 (不安全)"
3. 或者点击地址栏的盾牌图标，选择"允许"

### NFC权限
首次使用需要授予NFC权限：
- 点击"允许"以启用NFC功能
- 如果误点"拒绝"，需要在浏览器设置中重新授权

### 设备兼容性
- **Android**: 大多数现代Android设备支持
- **iOS**: iPhone 7+ 支持NFC读取
- **平板**: 部分平板设备支持

## 🔧 故障排除

### 问题1: 页面显示"请在手机设备上访问"
**解决方案**: 确保在手机浏览器中访问，而不是桌面浏览器

### 问题2: 显示"需要HTTPS连接"
**解决方案**: 使用HTTPS地址访问：`https://192.168.0.72:3000/mobile-nfc`

### 问题3: NFC权限被拒绝
**解决方案**: 
1. 在浏览器设置中找到"网站设置"
2. 找到NFC权限设置
3. 允许NFC访问

### 问题4: 无法读取NFC卡片
**解决方案**:
1. 确保NFC功能已开启
2. 将卡片靠近手机背面（NFC天线位置）
3. 保持卡片稳定，不要移动
4. 尝试不同的卡片

### 问题5: 连接超时
**解决方案**:
1. 确保手机和电脑在同一WiFi网络
2. 检查防火墙设置
3. 尝试重新访问页面

## 📊 技术规格

### NFC标准
- **频率**: 13.56MHz
- **标准**: ISO/IEC 14443
- **协议**: NDEF (NFC Data Exchange Format)

### 安全特性
- **HTTPS加密**: TLS 1.2+
- **自签名证书**: 本地开发环境
- **权限控制**: 浏览器级别NFC权限

### 数据格式
- **卡片ID**: 唯一标识符
- **时间戳**: 签到时间
- **设备信息**: 浏览器和设备类型

## 🆘 获取帮助

如果遇到问题，请检查：
1. 设备兼容性状态
2. 浏览器版本
3. 网络连接
4. NFC权限设置

更多技术支持请联系系统管理员。
