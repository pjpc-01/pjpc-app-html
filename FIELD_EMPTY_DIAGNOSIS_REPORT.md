# ğŸ” å­¦ç”Ÿå­—æ®µä¸ºç©ºé—®é¢˜è¯Šæ–­æŠ¥å‘Š

## ğŸ¯ é—®é¢˜æè¿°

ç”¨æˆ·æŠ¥å‘Šï¼š**centerã€branch nameã€teacher_id å’Œ status å­—æ®µéƒ½æ˜¯ç©ºçš„**

## ğŸ” å¯èƒ½åŸå› åˆ†æ

### 1. æ•°æ®åº“å­—æ®µå€¼ç¡®å®ä¸ºç©º
**åŸå› **: å­¦ç”Ÿè®°å½•åœ¨æ•°æ®åº“ä¸­è¿™äº›å­—æ®µæ²¡æœ‰å€¼
**æ£€æŸ¥æ–¹æ³•**: æŸ¥çœ‹è°ƒè¯•æ—¥å¿—ä¸­çš„å®é™…æ•°æ®

### 2. å­—æ®µåç§°ä¸åŒ¹é…
**åŸå› **: ä»£ç ä¸­ä½¿ç”¨çš„å­—æ®µåä¸æ•°æ®åº“ä¸­çš„å®é™…å­—æ®µåä¸ä¸€è‡´
**å¯èƒ½çš„ä¸åŒ¹é…**:
- `branch_name` vs `branch` vs `branchName`
- `teacher_id` vs `teacherId` vs `assigned_teacher`
- `center` vs `center_name` vs `centerCode`

### 3. æ•°æ®è·å–æ—¶å­—æ®µæœªåŒ…å«
**åŸå› **: PocketBaseæŸ¥è¯¢æ—¶æ²¡æœ‰åŒ…å«è¿™äº›å­—æ®µ
**æ£€æŸ¥**: `getStudents()` æ–¹æ³•æ˜¯å¦æŒ‡å®šäº†æ­£ç¡®çš„ `fields` å‚æ•°

### 4. æƒé™é—®é¢˜
**åŸå› **: å½“å‰ç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—®è¿™äº›å­—æ®µ
**æ£€æŸ¥**: ç”¨æˆ·è§’è‰²å’Œå­—æ®µè®¿é—®æƒé™

## ğŸ› ï¸ å·²å®æ–½çš„è°ƒè¯•æªæ–½

### 1. æ·»åŠ è°ƒè¯•æ—¥å¿—
```dart
// åœ¨æœªç­¾åˆ°å­¦ç”Ÿå¯¹è¯æ¡†ä¸­æ·»åŠ äº†è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—
print('=== å­¦ç”Ÿæ•°æ®è°ƒè¯• ===');
print('æ€»å­¦ç”Ÿæ•°: ${allStudents.length}');
if (allStudents.isNotEmpty) {
  final firstStudent = allStudents.first;
  print('ç¬¬ä¸€ä¸ªå­¦ç”Ÿæ•°æ®:');
  print('- ID: ${firstStudent.id}');
  print('- student_name: ${firstStudent.getStringValue('student_name')}');
  print('- student_id: ${firstStudent.getStringValue('student_id')}');
  print('- standard: ${firstStudent.getStringValue('standard')}');
  print('- center: ${firstStudent.getStringValue('center')}');
  print('- status: ${firstStudent.getStringValue('status')}');
  print('- teacher_id: ${firstStudent.getStringValue('teacher_id')}');
  print('- branch_name: ${firstStudent.getStringValue('branch_name')}');
  print('- æ‰€æœ‰å­—æ®µ: ${firstStudent.data.keys.toList()}');
}
```

### 2. å¢å¼ºå­—æ®µæ˜¾ç¤º
```dart
// æ·»åŠ äº†æ›´å¤šå­—æ®µçš„æ˜¾ç¤º
if (status.isNotEmpty) ...[
  Text('çŠ¶æ€: $status'),
],
if (teacherId.isNotEmpty) ...[
  Text('æ•™å¸ˆID: $teacherId'),
],
if (branchName.isNotEmpty) ...[
  Text('åˆ†æ ¡: $branchName'),
],
```

## ğŸ“‹ æ ¹æ®æ–‡æ¡£çš„å­—æ®µæ˜ å°„

### å­¦ç”Ÿé›†åˆå­—æ®µ (students)
æ ¹æ® `student_collection_fields.md`:

| å­—æ®µå | ç±»å‹ | æè¿° | çŠ¶æ€ |
|--------|------|------|------|
| `center` | Select | ä¸­å¿ƒ/åˆ†æ ¡ | âœ… å­˜åœ¨ |
| `status` | Select | å­¦ç”ŸçŠ¶æ€ | âœ… å­˜åœ¨ |
| `teacher_id` | âŒ | æ•™å¸ˆID | âŒ ä¸å­˜åœ¨ |
| `branch_name` | âŒ | åˆ†æ ¡åç§° | âŒ ä¸å­˜åœ¨ |

### å®é™…å­˜åœ¨çš„å­—æ®µ
- âœ… `center`: Selectç±»å‹ï¼Œå¯é€‰å€¼ `WX 01`, `WX 02`, `WX 03`, `WX 04`
- âœ… `status`: Selectç±»å‹ï¼Œå¯é€‰å€¼ `active`, `graduated`, `transferred`
- âŒ `teacher_id`: ä¸å­˜åœ¨äºå­¦ç”Ÿé›†åˆä¸­
- âŒ `branch_name`: ä¸å­˜åœ¨äºå­¦ç”Ÿé›†åˆä¸­

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### 1. ä¿®å¤å­—æ®µåç§°
```dart
// ä¿®æ”¹å­—æ®µè·å–é€»è¾‘
final center = student.getStringValue('center') ?? '';
final status = student.getStringValue('status') ?? '';
// teacher_id å’Œ branch_name ä¸å­˜åœ¨ï¼Œéœ€è¦ç§»é™¤æˆ–ä½¿ç”¨å…¶ä»–å­—æ®µ
```

### 2. ä½¿ç”¨æ­£ç¡®çš„å­—æ®µ
```dart
// å¦‚æœç¡®å®éœ€è¦æ•™å¸ˆä¿¡æ¯ï¼Œå¯èƒ½éœ€è¦ï¼š
// - é€šè¿‡å…³ç³»å­—æ®µè·å–
// - ä»å…¶ä»–é›†åˆæŸ¥è¯¢
// - ä½¿ç”¨ç°æœ‰çš„å…³è”å­—æ®µ
```

### 3. æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
```dart
// ç¡®ä¿å­¦ç”Ÿè®°å½•åŒ…å«å¿…è¦çš„æ•°æ®
// æ£€æŸ¥æ•°æ®åº“ä¸­çš„å®é™…å€¼
```

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. è¿è¡Œè°ƒè¯•ç‰ˆæœ¬
1. ç‚¹å‡»ç¼ºå‹¤äººæ•°å¡ç‰‡
2. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„è°ƒè¯•æ—¥å¿—
3. æ£€æŸ¥å®é™…çš„å­¦ç”Ÿæ•°æ®

### 2. éªŒè¯å­—æ®µå­˜åœ¨æ€§
```dart
// æ£€æŸ¥æ—¥å¿—ä¸­çš„ "æ‰€æœ‰å­—æ®µ" è¾“å‡º
print('- æ‰€æœ‰å­—æ®µ: ${firstStudent.data.keys.toList()}');
```

### 3. æ£€æŸ¥æ•°æ®å€¼
```dart
// æ£€æŸ¥æ¯ä¸ªå­—æ®µçš„å®é™…å€¼
print('  - center: "$center"');
print('  - status: "$status"');
```

## ğŸ“Š é¢„æœŸç»“æœ

### å¦‚æœå­—æ®µå­˜åœ¨ä½†å€¼ä¸ºç©º
- æ—¥å¿—æ˜¾ç¤ºå­—æ®µåä½†å€¼ä¸ºç©ºå­—ç¬¦ä¸²
- éœ€è¦æ£€æŸ¥æ•°æ®åº“ä¸­çš„æ•°æ®å®Œæ•´æ€§

### å¦‚æœå­—æ®µä¸å­˜åœ¨
- æ—¥å¿—ä¸­çš„ "æ‰€æœ‰å­—æ®µ" åˆ—è¡¨ä¸åŒ…å«è¯¥å­—æ®µ
- éœ€è¦ä¿®æ”¹ä»£ç ä½¿ç”¨æ­£ç¡®çš„å­—æ®µå

### å¦‚æœæƒé™é—®é¢˜
- å¯èƒ½æŠ›å‡ºæƒé™é”™è¯¯
- éœ€è¦æ£€æŸ¥ç”¨æˆ·è§’è‰²å’Œæƒé™è®¾ç½®

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **è¿è¡Œæµ‹è¯•**: ç‚¹å‡»ç¼ºå‹¤äººæ•°å¡ç‰‡ï¼ŒæŸ¥çœ‹è°ƒè¯•æ—¥å¿—
2. **åˆ†ææ—¥å¿—**: ç¡®å®šæ˜¯å­—æ®µä¸å­˜åœ¨è¿˜æ˜¯å€¼ä¸ºç©º
3. **ä¿®å¤ä»£ç **: æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´å­—æ®µåç§°æˆ–å¤„ç†é€»è¾‘
4. **éªŒè¯ä¿®å¤**: ç¡®ä¿æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜¾ç¤º

---

**è¯Šæ–­æ—¶é—´**: 2024å¹´12æœˆ
**çŠ¶æ€**: ğŸ”„ ç­‰å¾…ç”¨æˆ·æµ‹è¯•å’Œåé¦ˆ
**ä¸‹ä¸€æ­¥**: éœ€è¦æŸ¥çœ‹å®é™…è¿è¡Œæ—¶çš„è°ƒè¯•æ—¥å¿—
