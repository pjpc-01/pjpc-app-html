<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教师信息测试</title>
</head>
<body>
    <h1>教师信息测试</h1>
    <div id="output"></div>
    
    <script>
        async function testTeacherInfo() {
            const output = document.getElementById('output');
            
            try {
                // 测试获取所有教师
                console.log('🔍 测试获取所有教师...');
                const response = await fetch('/api/teachers');
                const data = await response.json();
                
                output.innerHTML = `
                    <h2>API响应:</h2>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                `;
                
                console.log('📋 教师API响应:', data);
                
                if (data.success && data.data.items.length > 0) {
                    const firstTeacher = data.data.items[0];
                    console.log('✅ 第一个教师信息:', firstTeacher);
                    
                    // 测试积分API
                    console.log('🔍 测试积分API...');
                    const pointsResponse = await fetch('/api/points');
                    const pointsData = await pointsResponse.json();
                    console.log('📋 积分API响应:', pointsData);
                }
                
            } catch (error) {
                console.error('❌ 测试失败:', error);
                output.innerHTML = `<p style="color: red;">测试失败: ${error.message}</p>`;
            }
        }
        
        // 页面加载时运行测试
        window.addEventListener('load', testTeacherInfo);
    </script>
</body>
</html>
