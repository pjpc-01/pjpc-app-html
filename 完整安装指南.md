# 📱 温馨小屋应用安装完整指南

## 🚀 快速开始

### 1. 生成应用文件

#### Android APK
```bash
# 清理项目
flutter clean

# 获取依赖
flutter pub get

# 构建正式版APK
flutter build apk --release

# 构建Google Play Bundle
flutter build appbundle --release
```

#### iOS应用
```bash
# 构建iOS应用
flutter build ios --release

# 生成IPA文件
flutter build ipa --release
```

## 📱 Android安装方法

### 方法1: 直接安装APK
1. **获取APK文件**
   - 文件路径: `build/app/outputs/flutter-apk/app-release.apk`
   - 应用名称: "温馨小屋"
   - 包名: `com.example.pjpc_app_flutter`

2. **安装步骤**
   ```
   1. 将APK文件复制到Android设备
   2. 打开文件管理器找到APK文件
   3. 点击APK文件开始安装
   4. 允许"未知来源"安装
   5. 确认安装权限
   ```

3. **启用未知来源**
   - Android 8.0+: 设置 → 应用和通知 → 特殊应用权限 → 安装未知应用
   - Android 7.0及以下: 设置 → 安全 → 未知来源

### 方法2: ADB安装
```bash
# 连接设备
adb devices

# 安装APK
adb install build/app/outputs/flutter-apk/app-release.apk

# 重新安装（如果已存在）
adb install -r build/app/outputs/flutter-apk/app-release.apk
```

### 方法3: Flutter直接安装
```bash
# 连接Android设备
flutter devices

# 直接安装
flutter install
```

## 🍎 iOS安装方法

### 方法1: Xcode安装
1. **打开项目**
   - 使用Xcode打开 `ios/Runner.xcworkspace`
   - 不要打开 `Runner.xcodeproj`

2. **配置开发者账号**
   ```
   Xcode → Preferences → Accounts
   → 添加Apple ID
   → 选择Team
   ```

3. **设置签名**
   ```
   Runner项目 → Signing & Capabilities
   → 选择Team
   → 设置Bundle Identifier
   ```

4. **构建安装**
   ```
   选择目标设备
   Product → Run (⌘+R)
   等待构建完成
   ```

### 方法2: Flutter命令安装
```bash
# 连接iOS设备
flutter devices

# 直接安装
flutter install
```

### 方法3: TestFlight分发
```bash
# 构建IPA
flutter build ipa --release

# 上传到App Store Connect
# 通过TestFlight分发
```

## 🔧 构建命令详解

### Android构建选项
```bash
# 调试版本（开发测试）
flutter build apk --debug

# 正式版本（发布）
flutter build apk --release

# 分架构构建（减小文件大小）
flutter build apk --split-per-abi

# Google Play Bundle（推荐）
flutter build appbundle --release
```

### iOS构建选项
```bash
# 调试版本
flutter build ios --debug

# 正式版本
flutter build ios --release

# 无签名构建
flutter build ios --release --no-codesign

# 生成IPA文件
flutter build ipa --release
```

## 📋 安装前检查

### Android设备要求
- [ ] Android 5.0 (API 21) 或更高版本
- [ ] 至少2GB RAM
- [ ] 50MB可用存储空间
- [ ] NFC功能支持（可选）
- [ ] 网络连接

### iOS设备要求
- [ ] iOS 11.0 或更高版本
- [ ] iPhone 6s 或更新设备
- [ ] 50MB可用存储空间
- [ ] 网络连接

## 🚨 常见问题解决

### Android问题

#### 1. 安装失败
```
问题: "应用未安装"
解决: 
- 检查未知来源是否启用
- 确认APK文件完整性
- 重启设备后重试
- 检查存储空间
```

#### 2. 应用崩溃
```
问题: 应用启动后立即崩溃
解决:
- 检查设备Android版本
- 确认NFC功能支持
- 查看错误日志: adb logcat
- 重新安装应用
```

#### 3. 权限问题
```
问题: 无法访问存储或相机
解决:
- 手动授予应用权限
- 设置 → 应用 → 温馨小屋 → 权限
- 启用所需权限
```

### iOS问题

#### 1. 签名错误
```
问题: "Code signing error"
解决:
- 检查开发者账号状态
- 重新配置Team设置
- 清理项目缓存
- 重新获取证书
```

#### 2. 构建失败
```
问题: "Build failed"
解决:
- 更新Xcode到最新版本
- 清理Flutter缓存: flutter clean
- 重新获取依赖: flutter pub get
- 检查iOS部署目标
```

#### 3. 设备信任问题
```
问题: "Untrusted Developer"
解决:
- 设置 → 通用 → 设备管理
- 信任开发者证书
- 重新安装应用
```

## 📊 应用信息

### 应用详情
- **应用名称**: 温馨小屋
- **包名**: com.example.pjpc_app_flutter
- **版本**: 1.0.0
- **大小**: 约25MB
- **最低Android版本**: 5.0
- **最低iOS版本**: 11.0

### 功能特性
- ✅ 学生信息管理
- ✅ NFC智能考勤
- ✅ 积分奖励系统
- ✅ 成绩管理
- ✅ 家长沟通平台

## 📞 技术支持

### 获取帮助
如果遇到安装问题，请提供以下信息：
- 设备型号和系统版本
- 错误信息截图
- 安装步骤描述
- Flutter版本信息

### 联系方式
- **机构**: 温馨小屋安亲补习中心
- **系统**: PJPC学校管理系统
- **平台**: 智能教育管理平台

---
**温馨小屋安亲补习中心管理系统**  
*让教育管理更智能，让学习更高效*
