# ğŸ“Š å­¦ç”Ÿä¸æ•™å¸ˆé›†åˆå¯¹æ¯”åˆ†æ

æ­¤æ–‡æ¡£å¯¹æ¯”åˆ†æäº†å­¦ç”Ÿé›†åˆ (students) å’Œæ•™å¸ˆé›†åˆ (teachers) çš„å­—æ®µç»“æ„ï¼Œå¸®åŠ©ç†è§£ä¸¤ä¸ªé›†åˆçš„å¼‚åŒç‚¹ã€‚

## ğŸ·ï¸ é›†åˆåŸºæœ¬ä¿¡æ¯å¯¹æ¯”

| é¡¹ç›® | å­¦ç”Ÿé›†åˆ (students) | æ•™å¸ˆé›†åˆ (teachers) |
|------|-------------------|-------------------|
| **åç§°** | `students` | `teachers` |
| **ç±»å‹** | `Base` | `Base` |
| **æ€»å­—æ®µæ•°** | 49ä¸ªå­—æ®µ | 36ä¸ªå­—æ®µ |
| **å¿…å¡«å­—æ®µ** | 5ä¸ª | 2ä¸ª |

## ğŸ“‹ å­—æ®µåˆ†ç±»å¯¹æ¯”

### ğŸ‘¤ åŸºæœ¬ä¿¡æ¯å­—æ®µ
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| `id` | âœ… Text | âœ… Text (å¿…å¡«) | å”¯ä¸€æ ‡è¯†ç¬¦ |
| `name` | âœ… `student_name` (å¿…å¡«) | âœ… `name` (å¿…å¡«) | å§“å |
| `email` | âœ… Text | âœ… Email | é‚®ç®± |
| `phone` | âœ… Text | âœ… Text | ç”µè¯ |
| `address` | âœ… Text | âœ… Text | åœ°å€ |
| `nric` | âœ… Text | âœ… Text | èº«ä»½è¯å· |

### ğŸ¢ å·¥ä½œ/å­¦ä¹ ä¿¡æ¯
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| **å­¦ä¹ ä¿¡æ¯** | `standard` (å¹´çº§) | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |
| **å·¥ä½œä¿¡æ¯** | âŒ æ—  | `department`, `position` | æ•™å¸ˆç‰¹æœ‰ |
| **ä¸­å¿ƒ/éƒ¨é—¨** | `center` (ä¸­å¿ƒ) | `department` (éƒ¨é—¨) | ç±»ä¼¼æ¦‚å¿µ |
| **å…¥èŒ/å…¥å­¦** | `enrollmentDate` | `hireDate` | æ—¶é—´è®°å½• |

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶åº­ä¿¡æ¯
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| **å®¶é•¿ä¿¡æ¯** | `parents_name`, `parents_phone` | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |
| **å©šå§»çŠ¶å†µ** | âŒ æ—  | `maritalStatus` | æ•™å¸ˆç‰¹æœ‰ |
| **å­å¥³æ•°é‡** | âŒ æ—  | `childrenCount` | æ•™å¸ˆç‰¹æœ‰ |
| **ç´§æ€¥è”ç³»äºº** | `emergencyContactName` | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |

### ğŸ’° è´¢åŠ¡ä¿¡æ¯
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| **ä½™é¢** | `balance` | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |
| **è–ªèµ„ä¿¡æ¯** | âŒ æ—  | `epfNo`, `socsoNo` | æ•™å¸ˆç‰¹æœ‰ |
| **é“¶è¡Œä¿¡æ¯** | âŒ æ—  | `bankName`, `bankAccountNo` | æ•™å¸ˆç‰¹æœ‰ |

### ğŸ’³ NFCå¡ç›¸å…³
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| **å¡å·** | `cardNumber` | `nfc_card_number` | å¡å·æ ‡è¯† |
| **å¡ç±»å‹** | `cardType` (NFC/RFID) | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |
| **å¡çŠ¶æ€** | `cardStatus` | âŒ æ—  | å­¦ç”Ÿç‰¹æœ‰ |
| **å‘å¡æ—¥æœŸ** | `issuedDate` | `nfc_card_issued_date` | å‘å¡æ—¶é—´ |
| **è¿‡æœŸæ—¥æœŸ** | `expiryDate` | `nfc_card_expiry_date` | è¿‡æœŸæ—¶é—´ |

### ğŸ” æƒé™å’Œå®‰å…¨
| å­—æ®µ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ | è¯´æ˜ |
|------|---------|---------|------|
| **æƒé™ç®¡ç†** | âŒ æ—  | `permissions` | æ•™å¸ˆç‰¹æœ‰ |
| **çŠ¶æ€** | `status` (active/graduated) | `status` (active/inactive) | ä¸åŒå¯é€‰å€¼ |
| **å®‰å…¨çŠ¶æ€** | `security_status` | `security_status` | ç›¸åŒå­—æ®µ |
| **åŠ å¯†å­—æ®µ** | å¤šä¸ªåŠ å¯†å­—æ®µ | å¤šä¸ªåŠ å¯†å­—æ®µ | éœ€è¦æ¸…ç† |

## ğŸ” å­—æ®µå·®å¼‚åˆ†æ

### å­¦ç”Ÿé›†åˆç‹¬æœ‰å­—æ®µ
1. **å­¦ä¹ ç›¸å…³**
   - `standard` (å¹´çº§)
   - `center` (ä¸­å¿ƒ)
   - `level` (Primary/Secondary)
   - `school` (å­¦æ ¡)

2. **å®¶é•¿å’Œæ¥é€**
   - `parents_name`, `parents_phone`
   - `pickupMethod`
   - `authorizedPickup1Name` ç­‰

3. **æ–‡ä»¶å’Œæ–‡æ¡£**
   - `photo` (ç…§ç‰‡)
   - `birthCert` (å‡ºç”Ÿè¯æ˜)

4. **NFCç®¡ç†**
   - `cardType` (å¡ç±»å‹)
   - `cardStatus` (å¡çŠ¶æ€)

### æ•™å¸ˆé›†åˆç‹¬æœ‰å­—æ®µ
1. **å·¥ä½œç›¸å…³**
   - `department` (éƒ¨é—¨)
   - `position` (èŒä½)
   - `hireDate` (å…¥èŒæ—¥æœŸ)

2. **ä¸ªäººç”Ÿæ´»**
   - `maritalStatus` (å©šå§»çŠ¶å†µ)
   - `childrenCount` (å­å¥³æ•°é‡)

3. **è–ªèµ„ç®¡ç†**
   - `epfNo` (EPFå·ç )
   - `socsoNo` (SOCSOå·ç )
   - `bankName`, `bankAccountNo` (é“¶è¡Œä¿¡æ¯)

4. **æƒé™ç®¡ç†**
   - `permissions` (normal_teacher/senior_teacher)

## ğŸ”„ NFCå…³è”åŠŸèƒ½å¯¹æ¯”

### å½“å‰NFCå­—æ®µ
| åŠŸèƒ½ | å­¦ç”Ÿé›†åˆ | æ•™å¸ˆé›†åˆ |
|------|---------|---------|
| **NFCå¡å·** | `cardNumber` | `nfc_card_number` |
| **å‘å¡æ—¥æœŸ** | `issuedDate` | `nfc_card_issued_date` |
| **è¿‡æœŸæ—¥æœŸ** | `expiryDate` | `nfc_card_expiry_date` |
| **ä½¿ç”¨ç»Ÿè®¡** | `last_swipe_time`, `swipe_count_today` | `last_swipe_time`, `swipe_count_today` |

### å»ºè®®ç»Ÿä¸€NFCå­—æ®µ
```dart
// å»ºè®®ä¸ºä¸¤ä¸ªé›†åˆæ·»åŠ çš„ç»Ÿä¸€å­—æ®µ
{
  'nfc_tag_id': 'NFCæ ‡ç­¾ID (ç”¨äºå…³è”)',
  'nfc_associated_at': 'NFCå…³è”æ—¶é—´',
  'nfc_last_used': 'NFCæœ€åä½¿ç”¨æ—¶é—´',
  'nfc_usage_count': 'NFCä½¿ç”¨æ¬¡æ•°'
}
```

## âš ï¸ éœ€è¦å…³æ³¨çš„é—®é¢˜

### 1. å­—æ®µå‘½åä¸ä¸€è‡´
- å­¦ç”Ÿ: `student_name` vs æ•™å¸ˆ: `name`
- å­¦ç”Ÿ: `cardNumber` vs æ•™å¸ˆ: `nfc_card_number`
- å­¦ç”Ÿ: `issuedDate` vs æ•™å¸ˆ: `nfc_card_issued_date`

### 2. å®‰å…¨å­—æ®µè¿‡å¤š
ä¸¤ä¸ªé›†åˆéƒ½åŒ…å«å¤§é‡å®‰å…¨ç›¸å…³å­—æ®µï¼Œæ ¹æ®æ‚¨ä¹‹å‰çš„è¦æ±‚éœ€è¦æ¸…ç†ï¼š
- `encrypted_uid`
- `encryption_key_version`
- `encryption_salt`
- `verification_level`
- `encryption_algorithm`
- `key_rotation_date`
- `suspicious_activities`
- `risk_score`

### 3. å¿…å¡«å­—æ®µå·®å¼‚
- **å­¦ç”Ÿé›†åˆ:** 5ä¸ªå¿…å¡«å­—æ®µ
- **æ•™å¸ˆé›†åˆ:** 2ä¸ªå¿…å¡«å­—æ®µ

## ğŸ”§ ä¼˜åŒ–å»ºè®®

### 1. å­—æ®µæ ‡å‡†åŒ–
```dart
// å»ºè®®ç»Ÿä¸€å­—æ®µå‘½å
{
  'name': 'å§“å (ç»Ÿä¸€ä½¿ç”¨name)',
  'nfc_card_number': 'NFCå¡å· (ç»Ÿä¸€å‘½å)',
  'nfc_issued_date': 'NFCå‘å¡æ—¥æœŸ (ç»Ÿä¸€å‘½å)',
  'nfc_expiry_date': 'NFCè¿‡æœŸæ—¥æœŸ (ç»Ÿä¸€å‘½å)'
}
```

### 2. NFCå…³è”å­—æ®µç»Ÿä¸€
```dart
// ä¸ºä¸¤ä¸ªé›†åˆæ·»åŠ ç›¸åŒçš„NFCå…³è”å­—æ®µ
{
  'nfc_tag_id': 'NFCæ ‡ç­¾ID',
  'nfc_associated_at': 'NFCå…³è”æ—¶é—´',
  'nfc_last_used': 'NFCæœ€åä½¿ç”¨æ—¶é—´',
  'nfc_usage_count': 'NFCä½¿ç”¨æ¬¡æ•°'
}
```

### 3. å®‰å…¨å­—æ®µæ¸…ç†
æ ¹æ®æ‚¨ä¹‹å‰çš„è¦æ±‚ï¼Œå»ºè®®ç§»é™¤æˆ–ç®€åŒ–ä»¥ä¸‹å­—æ®µï¼š
- æ‰€æœ‰åŠ å¯†ç›¸å…³å­—æ®µ
- å®‰å…¨çŠ¶æ€å­—æ®µ
- é£é™©è¯„åˆ†å­—æ®µ
- å¯ç–‘æ´»åŠ¨å­—æ®µ

### 4. æ•°æ®éªŒè¯åŠ å¼º
- ç»Ÿä¸€å¿…å¡«å­—æ®µæ ‡å‡†
- åŠ å¼ºé‚®ç®±æ ¼å¼éªŒè¯
- åŠ å¼ºç”µè¯å·ç æ ¼å¼éªŒè¯
- åŠ å¼ºæ—¥æœŸæ ¼å¼éªŒè¯

## ğŸ“ˆ åŠŸèƒ½æ‰©å±•å»ºè®®

### 1. å­¦ç”Ÿé›†åˆå¢å¼º
- æ·»åŠ åŸºç¡€æƒé™ç®¡ç†
- æ·»åŠ å®¶é•¿è”ç³»æ–¹å¼éªŒè¯
- æ·»åŠ å­¦ä¹ è¿›åº¦è·Ÿè¸ª

### 2. æ•™å¸ˆé›†åˆå¢å¼º
- æ·»åŠ æ•™å­¦ç§‘ç›®ç®¡ç†
- æ·»åŠ å·¥ä½œè¡¨ç°è¯„ä¼°
- æ·»åŠ åŸ¹è®­è®°å½•

### 3. é€šç”¨åŠŸèƒ½
- ç»Ÿä¸€NFCç®¡ç†ç•Œé¢
- ç»Ÿä¸€æ•°æ®å¯¼å‡ºåŠŸèƒ½
- ç»Ÿä¸€æœç´¢å’Œç­›é€‰åŠŸèƒ½

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´:** ${DateTime.now().toString().substring(0, 19)}
**ç‰ˆæœ¬:** 1.0
**åŸºäº:** å®é™…é›†åˆå­—æ®µåˆ†æ
